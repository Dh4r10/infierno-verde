---
interface Props {
  className?: string;
  title: string;
  defaultImage: string;
  hoverImage: string;
}

const { className, title, defaultImage, hoverImage } = Astro.props;

const baseClass = `vehicles-card cursor-pointer h-full w-full bg-red-300 flex justify-center items-end ${className}`;
---

<div
  class={`${baseClass}`}
  style={`--default-img: url(${defaultImage}); --hover-img: url(${hoverImage});`}
>
  <slot />
  <p class="font-[microgramma] text-[28px] text-white pb-4">{title}</p>
</div>

<style define:vars={{ defaultImage, hoverImage }}>
  .vehicles-card {
    position: relative;
    overflow: hidden;

    background:
      linear-gradient(
        180deg,
        rgba(0, 0, 0, 0) 0%,
        rgba(0, 0, 0, 0.05) 17.79%,
        rgba(0, 0, 0, 0.2) 74%,
        rgba(0, 0, 0, 0.6) 83%,
        #000 90%
      ),
      var(--default-img) lightgray 50% / cover no-repeat;
  }

  .vehicles-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;

    background:
      linear-gradient(
        180deg,
        rgba(0, 0, 0, 0) 0%,
        rgba(0, 0, 0, 0.05) 17.79%,
        rgba(0, 0, 0, 0.2) 74%,
        rgba(0, 0, 0, 0.6) 83%,
        #000 90%
      ),
      var(--hover-img) lightgray 50% / cover no-repeat;

    transition: opacity 300ms ease-in;
  }

  .vehicles-card:hover::before {
    opacity: 1;
  }
</style>
